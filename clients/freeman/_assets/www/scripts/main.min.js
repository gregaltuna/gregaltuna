!function(e,t){"function"==typeof define&&define.amd?define([],t):e.SlideShow=t()}(this,function(){function e(e,t,i){var n=document.createElement(e);return n.className=t,i&&n.appendChild(document.createTextNode(i)),n}function t(t,i){i={timeout:i&&i.timeout||5e3};var n=document.querySelector(t);if(!n||!n.children.length)throw new Error("Element not found or no children.");n.classList.add("slideshow"),n.classList.add("preload");for(var r=n.querySelector("img"),o=0;o<n.children.length;o++){var s=n.children[o];if(r=s.querySelector("div.slide-block"),r&&r.title){var a=e("div","caption");a.appendChild(e("span","title",r.title)),a.appendChild(e("span","alt",r.alt)),s.appendChild(a)}}n.children[0].classList.add("show-animation"),setTimeout(function(){n.classList.remove("preload")});var l=0;return setInterval(function(){n.children[l].classList.remove("show-animation"),l=(l+1)%n.children.length,n.children[l].classList.add("show-animation")},i.timeout),n}return t}),window.Modernizr=function(e,t,i){function n(e){S.cssText=e}function r(e,t){return n(x.join(e+";")+(t||""))}function o(e,t){return typeof e===t}function s(e,t){return!!~(""+e).indexOf(t)}function a(e,t){for(var n in e){var r=e[n];if(!s(r,"-")&&S[r]!==i)return"pfx"==t?r:!0}return!1}function l(e,t,n){for(var r in e){var s=t[e[r]];if(s!==i)return n===!1?e[r]:o(s,"function")?s.bind(n||t):s}return!1}function c(e,t,i){var n=e.charAt(0).toUpperCase()+e.slice(1),r=(e+" "+A.join(n+" ")+n).split(" ");return o(t,"string")||o(t,"undefined")?a(r,t):(r=(e+" "+T.join(n+" ")+n).split(" "),l(r,t,i))}function u(){p.input=function(i){for(var n=0,r=i.length;r>n;n++)V[i[n]]=!!(i[n]in y);return V.list&&(V.list=!(!t.createElement("datalist")||!e.HTMLDataListElement)),V}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),p.inputtypes=function(e){for(var n,r,o,s=0,a=e.length;a>s;s++)y.setAttribute("type",r=e[s]),n="text"!==y.type,n&&(y.value=w,y.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(r)&&y.style.WebkitAppearance!==i?(g.appendChild(y),o=t.defaultView,n=o.getComputedStyle&&"textfield"!==o.getComputedStyle(y,null).WebkitAppearance&&0!==y.offsetHeight,g.removeChild(y)):/^(search|tel)$/.test(r)||(n=/^(url|email)$/.test(r)?y.checkValidity&&y.checkValidity()===!1:y.value!=w)),C[e[s]]=!!n;return C}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var d,h,f="2.8.3",p={},m=!0,g=t.documentElement,v="modernizr",b=t.createElement(v),S=b.style,y=t.createElement("input"),w=":)",F={}.toString,x=" -webkit- -moz- -o- -ms- ".split(" "),k="Webkit Moz O ms",A=k.split(" "),T=k.toLowerCase().split(" "),R={svg:"http://www.w3.org/2000/svg"},E={},C={},V={},N=[],L=N.slice,M=function(e,i,n,r){var o,s,a,l,c=t.createElement("div"),u=t.body,d=u||t.createElement("body");if(parseInt(n,10))for(;n--;)a=t.createElement("div"),a.id=r?r[n]:v+(n+1),c.appendChild(a);return o=["&#173;",'<style id="s',v,'">',e,"</style>"].join(""),c.id=v,(u?c:d).innerHTML+=o,d.appendChild(c),u||(d.style.background="",d.style.overflow="hidden",l=g.style.overflow,g.style.overflow="hidden",g.appendChild(d)),s=i(c,e),u?c.parentNode.removeChild(c):(d.parentNode.removeChild(d),g.style.overflow=l),!!s},j=function(t){var i=e.matchMedia||e.msMatchMedia;if(i)return i(t)&&i(t).matches||!1;var n;return M("@media "+t+" { #"+v+" { position: absolute; } }",function(t){n="absolute"==(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle).position}),n},I=function(){function e(e,r){r=r||t.createElement(n[e]||"div"),e="on"+e;var s=e in r;return s||(r.setAttribute||(r=t.createElement("div")),r.setAttribute&&r.removeAttribute&&(r.setAttribute(e,""),s=o(r[e],"function"),o(r[e],"undefined")||(r[e]=i),r.removeAttribute(e))),r=null,s}var n={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return e}(),O={}.hasOwnProperty;h=o(O,"undefined")||o(O.call,"undefined")?function(e,t){return t in e&&o(e.constructor.prototype[t],"undefined")}:function(e,t){return O.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var i=L.call(arguments,1),n=function(){if(this instanceof n){var r=function(){};r.prototype=t.prototype;var o=new r,s=t.apply(o,i.concat(L.call(arguments)));return Object(s)===s?s:o}return t.apply(e,i.concat(L.call(arguments)))};return n}),E.flexbox=function(){return c("flexWrap")},E.flexboxlegacy=function(){return c("boxDirection")},E.canvas=function(){var e=t.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},E.canvastext=function(){return!(!p.canvas||!o(t.createElement("canvas").getContext("2d").fillText,"function"))},E.webgl=function(){return!!e.WebGLRenderingContext},E.touch=function(){var i;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?i=!0:M(["@media (",x.join("touch-enabled),("),v,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){i=9===e.offsetTop}),i},E.geolocation=function(){return"geolocation"in navigator},E.postmessage=function(){return!!e.postMessage},E.websqldatabase=function(){return!!e.openDatabase},E.indexedDB=function(){return!!c("indexedDB",e)},E.hashchange=function(){return I("hashchange",e)&&(t.documentMode===i||t.documentMode>7)},E.history=function(){return!(!e.history||!history.pushState)},E.draganddrop=function(){var e=t.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},E.websockets=function(){return"WebSocket"in e||"MozWebSocket"in e},E.rgba=function(){return n("background-color:rgba(150,255,150,.5)"),s(S.backgroundColor,"rgba")},E.hsla=function(){return n("background-color:hsla(120,40%,100%,.5)"),s(S.backgroundColor,"rgba")||s(S.backgroundColor,"hsla")},E.multiplebgs=function(){return n("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(S.background)},E.backgroundsize=function(){return c("backgroundSize")},E.borderimage=function(){return c("borderImage")},E.borderradius=function(){return c("borderRadius")},E.boxshadow=function(){return c("boxShadow")},E.textshadow=function(){return""===t.createElement("div").style.textShadow},E.opacity=function(){return r("opacity:.55"),/^0.55$/.test(S.opacity)},E.cssanimations=function(){return c("animationName")},E.csscolumns=function(){return c("columnCount")},E.cssgradients=function(){var e="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));",i="linear-gradient(left top,#9f9, white);";return n((e+"-webkit- ".split(" ").join(t+e)+x.join(i+e)).slice(0,-e.length)),s(S.backgroundImage,"gradient")},E.cssreflections=function(){return c("boxReflect")},E.csstransforms=function(){return!!c("transform")},E.csstransforms3d=function(){var e=!!c("perspective");return e&&"webkitPerspective"in g.style&&M("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t,i){e=9===t.offsetLeft&&3===t.offsetHeight}),e},E.csstransitions=function(){return c("transition")},E.fontface=function(){var e;return M('@font-face {font-family:"font";src:url("https://")}',function(i,n){var r=t.getElementById("smodernizr"),o=r.sheet||r.styleSheet,s=o?o.cssRules&&o.cssRules[0]?o.cssRules[0].cssText:o.cssText||"":"";e=/src/i.test(s)&&0===s.indexOf(n.split(" ")[0])}),e},E.generatedcontent=function(){var e;return M(["#",v,"{font:0/0 a}#",v,':after{content:"',w,'";visibility:hidden;font:3px/1 a}'].join(""),function(t){e=t.offsetHeight>=3}),e},E.video=function(){var e=t.createElement("video"),i=!1;try{(i=!!e.canPlayType)&&(i=new Boolean(i),i.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),i.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),i.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(n){}return i},E.audio=function(){var e=t.createElement("audio"),i=!1;try{(i=!!e.canPlayType)&&(i=new Boolean(i),i.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),i.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),i.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),i.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(n){}return i},E.localstorage=function(){try{return localStorage.setItem(v,v),localStorage.removeItem(v),!0}catch(e){return!1}},E.sessionstorage=function(){try{return sessionStorage.setItem(v,v),sessionStorage.removeItem(v),!0}catch(e){return!1}},E.webworkers=function(){return!!e.Worker},E.applicationcache=function(){return!!e.applicationCache},E.svg=function(){return!!t.createElementNS&&!!t.createElementNS(R.svg,"svg").createSVGRect},E.inlinesvg=function(){var e=t.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==R.svg},E.smil=function(){return!!t.createElementNS&&/SVGAnimate/.test(F.call(t.createElementNS(R.svg,"animate")))},E.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(F.call(t.createElementNS(R.svg,"clipPath")))};for(var P in E)h(E,P)&&(d=P.toLowerCase(),p[d]=E[P](),N.push((p[d]?"":"no-")+d));return p.input||u(),p.addTest=function(e,t){if("object"==typeof e)for(var n in e)h(e,n)&&p.addTest(n,e[n]);else{if(e=e.toLowerCase(),p[e]!==i)return p;t="function"==typeof t?t():t,"undefined"!=typeof m&&m&&(g.className+=" "+(t?"":"no-")+e),p[e]=t}return p},n(""),b=y=null,function(e,t){function i(e,t){var i=e.createElement("p"),n=e.getElementsByTagName("head")[0]||e.documentElement;return i.innerHTML="x<style>"+t+"</style>",n.insertBefore(i.lastChild,n.firstChild)}function n(){var e=b.elements;return"string"==typeof e?e.split(" "):e}function r(e){var t=v[e[m]];return t||(t={},g++,e[m]=g,v[g]=t),t}function o(e,i,n){if(i||(i=t),u)return i.createElement(e);n||(n=r(i));var o;return o=n.cache[e]?n.cache[e].cloneNode():p.test(e)?(n.cache[e]=n.createElem(e)).cloneNode():n.createElem(e),!o.canHaveChildren||f.test(e)||o.tagUrn?o:n.frag.appendChild(o)}function s(e,i){if(e||(e=t),u)return e.createDocumentFragment();i=i||r(e);for(var o=i.frag.cloneNode(),s=0,a=n(),l=a.length;l>s;s++)o.createElement(a[s]);return o}function a(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(i){return b.shivMethods?o(i,e,t):t.createElem(i)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+n().join().replace(/[\w\-]+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(b,t.frag)}function l(e){e||(e=t);var n=r(e);return!b.shivCSS||c||n.hasCSS||(n.hasCSS=!!i(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),u||a(e,n),e}var c,u,d="3.7.0",h=e.html5||{},f=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,p=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,m="_html5shiv",g=0,v={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",c="hidden"in e,u=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(i){c=!0,u=!0}}();var b={elements:h.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:d,shivCSS:h.shivCSS!==!1,supportsUnknownElements:u,shivMethods:h.shivMethods!==!1,type:"default",shivDocument:l,createElement:o,createDocumentFragment:s};e.html5=b,l(t)}(this,t),p._version=f,p._prefixes=x,p._domPrefixes=T,p._cssomPrefixes=A,p.mq=j,p.hasEvent=I,p.testProp=function(e){return a([e])},p.testAllProps=c,p.testStyles=M,p.prefixed=function(e,t,i){return t?c(e,t,i):c(e,"pfx")},g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(m?" js "+N.join(" "):""),p}(this,this.document),FSS={FRONT:0,BACK:1,DOUBLE:2,SVGNS:"http://www.w3.org/2000/svg"},FSS.Array="function"==typeof Float32Array?Float32Array:Array,FSS.Utils={isNumber:function(e){return!isNaN(parseFloat(e))&&isFinite(e)}},function(){for(var e=0,t=["ms","moz","webkit","o"],i=0;i<t.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[t[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[i]+"CancelAnimationFrame"]||window[t[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,i){var n=(new Date).getTime(),r=Math.max(0,16-(n-e)),o=window.setTimeout(function(){t(n+r)},r);return e=n+r,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),Math.PIM2=2*Math.PI,Math.PID2=Math.PI/2,Math.randomInRange=function(e,t){return e+(t-e)*Math.random()},Math.clamp=function(e,t,i){return e=Math.max(e,t),e=Math.min(e,i)},FSS.Vector3={create:function(e,t,i){var n=new FSS.Array(3);return this.set(n,e,t,i),n},clone:function(e){var t=this.create();return this.copy(t,e),t},set:function(e,t,i,n){return e[0]=t||0,e[1]=i||0,e[2]=n||0,this},setX:function(e,t){return e[0]=t||0,this},setY:function(e,t){return e[1]=t||0,this},setZ:function(e,t){return e[2]=t||0,this},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],this},add:function(e,t){return e[0]+=t[0],e[1]+=t[1],e[2]+=t[2],this},addVectors:function(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],this},addScalar:function(e,t){return e[0]+=t,e[1]+=t,e[2]+=t,this},subtract:function(e,t){return e[0]-=t[0],e[1]-=t[1],e[2]-=t[2],this},subtractVectors:function(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],this},subtractScalar:function(e,t){return e[0]-=t,e[1]-=t,e[2]-=t,this},multiply:function(e,t){return e[0]*=t[0],e[1]*=t[1],e[2]*=t[2],this},multiplyVectors:function(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e[2]=t[2]*i[2],this},multiplyScalar:function(e,t){return e[0]*=t,e[1]*=t,e[2]*=t,this},divide:function(e,t){return e[0]/=t[0],e[1]/=t[1],e[2]/=t[2],this},divideVectors:function(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e[2]=t[2]/i[2],this},divideScalar:function(e,t){return 0!==t?(e[0]/=t,e[1]/=t,e[2]/=t):(e[0]=0,e[1]=0,e[2]=0),this},cross:function(e,t){var i=e[0],n=e[1],r=e[2];return e[0]=n*t[2]-r*t[1],e[1]=r*t[0]-i*t[2],e[2]=i*t[1]-n*t[0],this},crossVectors:function(e,t,i){return e[0]=t[1]*i[2]-t[2]*i[1],e[1]=t[2]*i[0]-t[0]*i[2],e[2]=t[0]*i[1]-t[1]*i[0],this},min:function(e,t){return e[0]<t&&(e[0]=t),e[1]<t&&(e[1]=t),e[2]<t&&(e[2]=t),this},max:function(e,t){return e[0]>t&&(e[0]=t),e[1]>t&&(e[1]=t),e[2]>t&&(e[2]=t),this},clamp:function(e,t,i){return this.min(e,t),this.max(e,i),this},limit:function(e,t,i){var n=this.length(e);return null!==t&&t>n?this.setLength(e,t):null!==i&&n>i&&this.setLength(e,i),this},dot:function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},normalise:function(e){return this.divideScalar(e,this.length(e))},negate:function(e){return this.multiplyScalar(e,-1)},distanceSquared:function(e,t){var i=e[0]-t[0],n=e[1]-t[1],r=e[2]-t[2];return i*i+n*n+r*r},distance:function(e,t){return Math.sqrt(this.distanceSquared(e,t))},lengthSquared:function(e){return e[0]*e[0]+e[1]*e[1]+e[2]*e[2]},length:function(e){return Math.sqrt(this.lengthSquared(e))},setLength:function(e,t){var i=this.length(e);return 0!==i&&t!==i&&this.multiplyScalar(e,t/i),this}},FSS.Vector4={create:function(e,t,i,n){var r=new FSS.Array(4);return this.set(r,e,t,i),r},set:function(e,t,i,n,r){return e[0]=t||0,e[1]=i||0,e[2]=n||0,e[3]=r||0,this},setX:function(e,t){return e[0]=t||0,this},setY:function(e,t){return e[1]=t||0,this},setZ:function(e,t){return e[2]=t||0,this},setW:function(e,t){return e[3]=t||0,this},add:function(e,t){return e[0]+=t[0],e[1]+=t[1],e[2]+=t[2],e[3]+=t[3],this},multiplyVectors:function(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e[2]=t[2]*i[2],e[3]=t[3]*i[3],this},multiplyScalar:function(e,t){return e[0]*=t,e[1]*=t,e[2]*=t,e[3]*=t,this},min:function(e,t){return e[0]<t&&(e[0]=t),e[1]<t&&(e[1]=t),e[2]<t&&(e[2]=t),e[3]<t&&(e[3]=t),this},max:function(e,t){return e[0]>t&&(e[0]=t),e[1]>t&&(e[1]=t),e[2]>t&&(e[2]=t),e[3]>t&&(e[3]=t),this},clamp:function(e,t,i){return this.min(e,t),this.max(e,i),this}},FSS.Color=function(e,t){this.rgba=FSS.Vector4.create(),this.hex=e||"#254540",this.opacity=FSS.Utils.isNumber(t)?t:1,this.set(this.hex,this.opacity)},FSS.Color.prototype={set:function(e,t){e=e.replace("#","");var i=e.length/3;return this.rgba[0]=parseInt(e.substring(0*i,1*i),16)/255,this.rgba[1]=parseInt(e.substring(1*i,2*i),16)/255,this.rgba[2]=parseInt(e.substring(2*i,3*i),16)/255,this.rgba[3]=FSS.Utils.isNumber(t)?t:this.rgba[3],this},hexify:function(e){var t=Math.ceil(255*e).toString(16);return 1===t.length&&(t="0"+t),t},format:function(){var e=this.hexify(this.rgba[0]),t=this.hexify(this.rgba[1]),i=this.hexify(this.rgba[2]);return this.hex="#"+e+t+i,this.hex}},FSS.Object=function(){this.position=FSS.Vector3.create()},FSS.Object.prototype={setPosition:function(e,t,i){return FSS.Vector3.set(this.position,e,t,i),this}},FSS.Light=function(e,t){FSS.Object.call(this),this.ambient=new FSS.Color(e||"#333333"),this.diffuse=new FSS.Color(t||"#333333"),this.ray=FSS.Vector3.create()},FSS.Light.prototype=Object.create(FSS.Object.prototype),FSS.Vertex=function(e,t,i){this.position=FSS.Vector3.create(e,t,i)},FSS.Vertex.prototype={setPosition:function(e,t,i){return FSS.Vector3.set(this.position,e,t,i),this}},FSS.Triangle=function(e,t,i){this.a=e||new FSS.Vertex,this.b=t||new FSS.Vertex,this.c=i||new FSS.Vertex,this.vertices=[this.a,this.b,this.c],this.u=FSS.Vector3.create(),this.v=FSS.Vector3.create(),this.centroid=FSS.Vector3.create(),this.normal=FSS.Vector3.create(),this.color=new FSS.Color,this.polygon=document.createElementNS(FSS.SVGNS,"polygon"),this.polygon.setAttributeNS(null,"stroke-linejoin","round"),this.polygon.setAttributeNS(null,"stroke-miterlimit","1"),this.polygon.setAttributeNS(null,"stroke-width","1"),this.computeCentroid(),this.computeNormal()},FSS.Triangle.prototype={computeCentroid:function(){return this.centroid[0]=this.a.position[0]+this.b.position[0]+this.c.position[0],this.centroid[1]=this.a.position[1]+this.b.position[1]+this.c.position[1],this.centroid[2]=this.a.position[2]+this.b.position[2]+this.c.position[2],FSS.Vector3.divideScalar(this.centroid,3),this},computeNormal:function(){return FSS.Vector3.subtractVectors(this.u,this.b.position,this.a.position),FSS.Vector3.subtractVectors(this.v,this.c.position,this.a.position),FSS.Vector3.crossVectors(this.normal,this.u,this.v),FSS.Vector3.normalise(this.normal),this}},FSS.Geometry=function(){this.vertices=[],this.triangles=[],this.dirty=!1},FSS.Geometry.prototype={update:function(){if(this.dirty){var e,t;for(e=this.triangles.length-1;e>=0;e--)t=this.triangles[e],t.computeCentroid(),t.computeNormal();this.dirty=!1}return this}},FSS.Plane=function(e,t,i,n){FSS.Geometry.call(this),this.width=e||100,this.height=t||100,this.segments=i||4,this.slices=n||4,this.segmentWidth=this.width/this.segments,this.sliceHeight=this.height/this.slices;var r,o,s,a,l,c,u,d=[],h=this.width*-.5,f=.5*this.height;for(r=0;r<=this.segments;r++)for(d.push([]),o=0;o<=this.slices;o++)u=new FSS.Vertex(h+r*this.segmentWidth,f-o*this.sliceHeight),d[r].push(u),this.vertices.push(u);for(r=0;r<this.segments;r++)for(o=0;o<this.slices;o++)s=d[r+0][o+0],a=d[r+0][o+1],l=d[r+1][o+0],c=d[r+1][o+1],t0=new FSS.Triangle(s,a,l),t1=new FSS.Triangle(l,a,c),this.triangles.push(t0,t1)},FSS.Plane.prototype=Object.create(FSS.Geometry.prototype),FSS.Material=function(e,t){this.ambient=new FSS.Color(e||"#444444"),this.diffuse=new FSS.Color(t||"#444444"),this.slave=new FSS.Color},FSS.Mesh=function(e,t){FSS.Object.call(this),this.geometry=e||new FSS.Geometry,this.material=t||new FSS.Material,this.side=FSS.FRONT,this.visible=!0},FSS.Mesh.prototype=Object.create(FSS.Object.prototype),FSS.Mesh.prototype.update=function(e,t){var i,n,r,o,s;if(this.geometry.update(),t)for(i=this.geometry.triangles.length-1;i>=0;i--){for(n=this.geometry.triangles[i],FSS.Vector4.set(n.color.rgba),r=e.length-1;r>=0;r--)o=e[r],FSS.Vector3.subtractVectors(o.ray,o.position,n.centroid),FSS.Vector3.normalise(o.ray),s=FSS.Vector3.dot(n.normal,o.ray),this.side===FSS.FRONT?s=Math.max(s,0):this.side===FSS.BACK?s=Math.abs(Math.min(s,0)):this.side===FSS.DOUBLE&&(s=Math.max(Math.abs(s),0)),FSS.Vector4.multiplyVectors(this.material.slave.rgba,this.material.ambient.rgba,o.ambient.rgba),FSS.Vector4.add(n.color.rgba,this.material.slave.rgba),FSS.Vector4.multiplyVectors(this.material.slave.rgba,this.material.diffuse.rgba,o.diffuse.rgba),FSS.Vector4.multiplyScalar(this.material.slave.rgba,s),FSS.Vector4.add(n.color.rgba,this.material.slave.rgba);FSS.Vector4.clamp(n.color.rgba,0,1)}return this},FSS.Scene=function(){this.meshes=[],this.lights=[]},FSS.Scene.prototype={add:function(e){return e instanceof FSS.Mesh&&!~this.meshes.indexOf(e)?this.meshes.push(e):e instanceof FSS.Light&&!~this.lights.indexOf(e)&&this.lights.push(e),this},remove:function(e){return e instanceof FSS.Mesh&&~this.meshes.indexOf(e)?this.meshes.splice(this.meshes.indexOf(e),1):e instanceof FSS.Light&&~this.lights.indexOf(e)&&this.lights.splice(this.lights.indexOf(e),1),this}},FSS.Renderer=function(){this.width=0,this.height=0,this.halfWidth=0,this.halfHeight=0},FSS.Renderer.prototype={setSize:function(e,t){return this.width!==e||this.height!==t?(this.width=e,this.height=t,this.halfWidth=.5*this.width,this.halfHeight=.5*this.height,this):void 0},clear:function(){return this},render:function(e){return this}},FSS.CanvasRenderer=function(){FSS.Renderer.call(this),this.element=document.createElement("canvas"),this.element.style.display="block",this.element.setAttribute("id","myCanvas"),this.context=this.element.getContext("2d"),this.setSize(this.element.width,this.element.height)},FSS.CanvasRenderer.prototype=Object.create(FSS.Renderer.prototype),FSS.CanvasRenderer.prototype.setSize=function(e,t){return FSS.Renderer.prototype.setSize.call(this,e,t),this.element.width=e,this.element.height=t,this.context.setTransform(1,0,0,-1,this.halfWidth,this.halfHeight),this},FSS.CanvasRenderer.prototype.clear=function(){return FSS.Renderer.prototype.clear.call(this),this.context.clearRect(-this.halfWidth,-this.halfHeight,this.width,this.height),this},FSS.CanvasRenderer.prototype.render=function(e){FSS.Renderer.prototype.render.call(this,e);var t,i,n,r,o;for(this.clear(),this.context.lineJoin="round",this.context.lineWidth=1,t=e.meshes.length-1;t>=0;t--)if(i=e.meshes[t],i.visible)for(i.update(e.lights,!0),n=i.geometry.triangles.length-1;n>=0;n--)r=i.geometry.triangles[n],o=r.color.format(),this.context.beginPath(),this.context.moveTo(r.a.position[0],r.a.position[1]),this.context.lineTo(r.b.position[0],r.b.position[1]),this.context.lineTo(r.c.position[0],r.c.position[1]),this.context.closePath(),this.context.strokeStyle=o,this.context.fillStyle=o,this.context.stroke(),this.context.fill();return this},FSS.WebGLRenderer=function(){FSS.Renderer.call(this),this.element=document.createElement("canvas"),this.element.style.display="block",this.vertices=null,this.lights=null;var e={preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0,stencil:!0,alpha:!0};return this.gl=this.getContext(this.element,e),this.unsupported=!this.gl,this.unsupported?"WebGL is not supported by your browser.":(this.gl.clearColor(0,0,0,0),this.gl.enable(this.gl.DEPTH_TEST),this.setSize(this.element.width,this.element.height),void 0)},FSS.WebGLRenderer.prototype=Object.create(FSS.Renderer.prototype),FSS.WebGLRenderer.prototype.getContext=function(e,t){var i=!1;try{if(!(i=e.getContext("experimental-webgl",t)))throw"Error creating WebGL context."}catch(n){console.error(n)}return i},FSS.WebGLRenderer.prototype.setSize=function(e,t){return FSS.Renderer.prototype.setSize.call(this,e,t),this.unsupported?void 0:(this.element.width=e,this.element.height=t,this.gl.viewport(0,0,e,t),this)},FSS.WebGLRenderer.prototype.clear=function(){return FSS.Renderer.prototype.clear.call(this),this.unsupported?void 0:(this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT),this)},FSS.WebGLRenderer.prototype.render=function(e){if(FSS.Renderer.prototype.render.call(this,e),!this.unsupported){var t,i,n,r,o,s,a,l,c,u,d,h,f,p,m,g=!1,v=e.lights.length,b=0;if(this.clear(),this.lights!==v){if(this.lights=v,!(this.lights>0))return;this.buildProgram(v)}if(this.program){for(t=e.meshes.length-1;t>=0;t--)i=e.meshes[t],i.geometry.dirty&&(g=!0),i.update(e.lights,!1),b+=3*i.geometry.triangles.length;if(g||this.vertices!==b){this.vertices=b;for(l in this.program.attributes){for(u=this.program.attributes[l],u.data=new FSS.Array(b*u.size),f=0,t=e.meshes.length-1;t>=0;t--)for(i=e.meshes[t],n=0,r=i.geometry.triangles.length;r>n;n++)for(o=i.geometry.triangles[n],p=0,m=o.vertices.length;m>p;p++){switch(vertex=o.vertices[p],l){case"side":this.setBufferData(f,u,i.side);break;case"position":this.setBufferData(f,u,vertex.position);break;case"centroid":this.setBufferData(f,u,o.centroid);break;case"normal":this.setBufferData(f,u,o.normal);break;case"ambient":this.setBufferData(f,u,i.material.ambient.rgba);break;case"diffuse":this.setBufferData(f,u,i.material.diffuse.rgba)}f++}this.gl.bindBuffer(this.gl.ARRAY_BUFFER,u.buffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,u.data,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(u.location),this.gl.vertexAttribPointer(u.location,u.size,this.gl.FLOAT,!1,0,0)}}for(this.setBufferData(0,this.program.uniforms.resolution,[this.width,this.height,this.width]),s=v-1;s>=0;s--)a=e.lights[s],this.setBufferData(s,this.program.uniforms.lightPosition,a.position),this.setBufferData(s,this.program.uniforms.lightAmbient,a.ambient.rgba),this.setBufferData(s,this.program.uniforms.lightDiffuse,a.diffuse.rgba);for(c in this.program.uniforms)switch(u=this.program.uniforms[c],h=u.location,d=u.data,u.structure){case"3f":this.gl.uniform3f(h,d[0],d[1],d[2]);break;case"3fv":this.gl.uniform3fv(h,d);break;case"4fv":this.gl.uniform4fv(h,d)}}return this.gl.drawArrays(this.gl.TRIANGLES,0,this.vertices),this}},FSS.WebGLRenderer.prototype.setBufferData=function(e,t,i){if(FSS.Utils.isNumber(i))t.data[e*t.size]=i;else for(var n=i.length-1;n>=0;n--)t.data[e*t.size+n]=i[n]},FSS.WebGLRenderer.prototype.buildProgram=function(e){if(!this.unsupported){var t=FSS.WebGLRenderer.VS(e),i=FSS.WebGLRenderer.FS(e),n=t+i;if(!this.program||this.program.code!==n){var r=this.gl.createProgram(),o=this.buildShader(this.gl.VERTEX_SHADER,t),s=this.buildShader(this.gl.FRAGMENT_SHADER,i);if(this.gl.attachShader(r,o),this.gl.attachShader(r,s),this.gl.linkProgram(r),!this.gl.getProgramParameter(r,this.gl.LINK_STATUS)){var a=this.gl.getError(),l=this.gl.getProgramParameter(r,this.gl.VALIDATE_STATUS);return console.error("Could not initialise shader.\nVALIDATE_STATUS: "+l+"\nERROR: "+a),null}return this.gl.deleteShader(s),this.gl.deleteShader(o),r.code=n,r.attributes={side:this.buildBuffer(r,"attribute","aSide",1,"f"),position:this.buildBuffer(r,"attribute","aPosition",3,"v3"),centroid:this.buildBuffer(r,"attribute","aCentroid",3,"v3"),normal:this.buildBuffer(r,"attribute","aNormal",3,"v3"),ambient:this.buildBuffer(r,"attribute","aAmbient",4,"v4"),diffuse:this.buildBuffer(r,"attribute","aDiffuse",4,"v4")},r.uniforms={resolution:this.buildBuffer(r,"uniform","uResolution",3,"3f",1),lightPosition:this.buildBuffer(r,"uniform","uLightPosition",3,"3fv",e),lightAmbient:this.buildBuffer(r,"uniform","uLightAmbient",4,"4fv",e),lightDiffuse:this.buildBuffer(r,"uniform","uLightDiffuse",4,"4fv",e)},this.program=r,this.gl.useProgram(this.program),r}}},FSS.WebGLRenderer.prototype.buildShader=function(e,t){if(!this.unsupported){var i=this.gl.createShader(e);return this.gl.shaderSource(i,t),this.gl.compileShader(i),this.gl.getShaderParameter(i,this.gl.COMPILE_STATUS)?i:(console.error(this.gl.getShaderInfoLog(i)),null)}},FSS.WebGLRenderer.prototype.buildBuffer=function(e,t,i,n,r,o){var s={buffer:this.gl.createBuffer(),size:n,structure:r,data:null};switch(t){case"attribute":s.location=this.gl.getAttribLocation(e,i);break;case"uniform":s.location=this.gl.getUniformLocation(e,i)}return o&&(s.data=new FSS.Array(o*n)),s},FSS.WebGLRenderer.VS=function(e){var t=["precision mediump float;","#define LIGHTS "+e,"attribute float aSide;","attribute vec3 aPosition;","attribute vec3 aCentroid;","attribute vec3 aNormal;","attribute vec4 aAmbient;","attribute vec4 aDiffuse;","uniform vec3 uResolution;","uniform vec3 uLightPosition[LIGHTS];","uniform vec4 uLightAmbient[LIGHTS];","uniform vec4 uLightDiffuse[LIGHTS];","varying vec4 vColor;","void main() {","vColor = vec4(0.0);","vec3 position = aPosition / uResolution * 2.0;","for (int i = 0; i < LIGHTS; i++) {","vec3 lightPosition = uLightPosition[i];","vec4 lightAmbient = uLightAmbient[i];","vec4 lightDiffuse = uLightDiffuse[i];","vec3 ray = normalize(lightPosition - aCentroid);","float illuminance = dot(aNormal, ray);","if (aSide == 0.0) {","illuminance = max(illuminance, 0.0);","} else if (aSide == 1.0) {","illuminance = abs(min(illuminance, 0.0));","} else if (aSide == 2.0) {","illuminance = max(abs(illuminance), 0.0);","}","vColor += aAmbient * lightAmbient;","vColor += aDiffuse * lightDiffuse * illuminance;","}","vColor = clamp(vColor, 0.0, 1.0);","gl_Position = vec4(position, 1.0);","}"].join("\n");return t},FSS.WebGLRenderer.FS=function(e){var t=["precision mediump float;","varying vec4 vColor;","void main() {","gl_FragColor = vColor;","}"].join("\n");return t},FSS.SVGRenderer=function(){FSS.Renderer.call(this),this.element=document.createElementNS(FSS.SVGNS,"svg"),this.element.setAttribute("xmlns",FSS.SVGNS),this.element.setAttribute("version","1.1"),this.element.style.display="block",this.setSize(300,150)},FSS.SVGRenderer.prototype=Object.create(FSS.Renderer.prototype),FSS.SVGRenderer.prototype.setSize=function(e,t){return FSS.Renderer.prototype.setSize.call(this,e,t),this.element.setAttribute("width",e),this.element.setAttribute("height",t),this},FSS.SVGRenderer.prototype.clear=function(){FSS.Renderer.prototype.clear.call(this);for(var e=this.element.childNodes.length-1;e>=0;e--)this.element.removeChild(this.element.childNodes[e]);return this},FSS.SVGRenderer.prototype.render=function(e){FSS.Renderer.prototype.render.call(this,e);var t,i,n,r,o,s;for(t=e.meshes.length-1;t>=0;t--)if(i=e.meshes[t],i.visible)for(i.update(e.lights,!0),n=i.geometry.triangles.length-1;n>=0;n--)r=i.geometry.triangles[n],r.polygon.parentNode!==this.element&&this.element.appendChild(r.polygon),o=this.formatPoint(r.a)+" ",o+=this.formatPoint(r.b)+" ",o+=this.formatPoint(r.c),s=this.formatStyle(r.color.format()),r.polygon.setAttributeNS(null,"points",o),r.polygon.setAttributeNS(null,"style",s);return this},FSS.SVGRenderer.prototype.formatPoint=function(e){return this.halfWidth+e.position[0]+","+(this.halfHeight-e.position[1])},FSS.SVGRenderer.prototype.formatStyle=function(e){var t="fill:"+e+";";return t+="stroke:"+e+";"},function(){function e(){t(),n(),r(),o(),u(),s(A.offsetWidth,A.offsetHeight),a()}function t(){b=new FSS.CanvasRenderer,i(w.renderer)}function i(e){f&&T.removeChild(f.element),f=b,f.setSize(A.offsetWidth,A.offsetHeight),T.appendChild(f.element)}function n(){p=new FSS.Scene}function r(){p.remove(m),f.clear(),g=new FSS.Plane(S.width*f.width,S.height*f.height,S.segments,S.slices),v=new FSS.Material(S.ambient,S.diffuse),m=new FSS.Mesh(g,v),p.add(m);var e,t;for(e=g.vertices.length-1;e>=0;e--)t=g.vertices[e],t.anchor=FSS.Vector3.clone(t.position),t.step=FSS.Vector3.create(Math.randomInRange(.2,1),Math.randomInRange(.2,1),Math.randomInRange(.2,1)),t.time=Math.randomInRange(0,Math.PIM2)}function o(){var e,t;for(e=p.lights.length-1;e>=0;e--)t=p.lights[e],p.remove(t);for(f.clear(),e=0;e<y.count;e++)t=new FSS.Light(y.ambient,y.diffuse),t.ambientHex=t.ambient.format(),t.diffuseHex=t.diffuse.format(),p.add(t),t.mass=Math.randomInRange(.5,1),t.velocity=FSS.Vector3.create(),t.acceleration=FSS.Vector3.create(),
t.force=FSS.Vector3.create(),t.ring=document.createElementNS(FSS.SVGNS,"circle"),t.ring.setAttributeNS(null,"stroke",t.ambientHex),t.ring.setAttributeNS(null,"stroke-width","0.5"),t.ring.setAttributeNS(null,"fill","none"),t.ring.setAttributeNS(null,"r","10"),t.core=document.createElementNS(FSS.SVGNS,"circle"),t.core.setAttributeNS(null,"fill",t.diffuseHex),t.core.setAttributeNS(null,"r","4")}function s(e,t){f.setSize(e,t),FSS.Vector3.set(x,f.halfWidth,f.halfHeight),r()}function a(){h=Date.now()-F,l(),c(),requestAnimationFrame(a)}function l(){var e,t,i,n,r,o,s,a=S.depth/2;for(FSS.Vector3.copy(y.bounds,x),FSS.Vector3.multiplyScalar(y.bounds,y.xyScalar),FSS.Vector3.setZ(k,y.zOffset),y.autopilot&&(e=Math.sin(y.step[0]*h*y.speed),t=Math.cos(y.step[1]*h*y.speed),FSS.Vector3.set(k,y.bounds[0]*e,y.bounds[1]*t,y.zOffset)),n=p.lights.length-1;n>=0;n--){r=p.lights[n],FSS.Vector3.setZ(r.position,y.zOffset);var l=Math.clamp(FSS.Vector3.distanceSquared(r.position,k),y.minDistance,y.maxDistance),c=y.gravity*r.mass/l;FSS.Vector3.subtractVectors(r.force,k,r.position),FSS.Vector3.normalise(r.force),FSS.Vector3.multiplyScalar(r.force,c),FSS.Vector3.set(r.acceleration),FSS.Vector3.add(r.acceleration,r.force),FSS.Vector3.add(r.velocity,r.acceleration),FSS.Vector3.multiplyScalar(r.velocity,y.dampening),FSS.Vector3.limit(r.velocity,y.minLimit,y.maxLimit),FSS.Vector3.add(r.position,r.velocity)}for(o=g.vertices.length-1;o>=0;o--)s=g.vertices[o],e=Math.sin(s.time+s.step[0]*h*S.speed),t=Math.cos(s.time+s.step[1]*h*S.speed),i=Math.sin(s.time+s.step[2]*h*S.speed),FSS.Vector3.set(s.position,S.xRange*g.segmentWidth*e,S.yRange*g.sliceHeight*t,S.zRange*a*i-a),FSS.Vector3.add(s.position,s.anchor);g.dirty=!0}function c(){if(f.render(p),y.draw){var e,t,i,n;for(e=p.lights.length-1;e>=0;e--)n=p.lights[e],t=n.position[0],i=n.position[1],f.context.lineWidth=.5,f.context.beginPath(),f.context.arc(t,i,10,0,Math.PIM2),f.context.strokeStyle=n.ambientHex,f.context.stroke(),f.context.beginPath(),f.context.arc(t,i,4,0,Math.PIM2),f.context.fillStyle=n.diffuseHex,f.context.fill()}}function u(){window.addEventListener("resize",d)}function d(e){s(A.offsetWidth,A.offsetHeight),c()}var h,f,p,m,g,v,b,S={width:1.8,height:1.8,depth:4,segments:8,slices:4,xRange:.8,yRange:.1,zRange:1,ambient:"#555555",diffuse:"#333333",speed:1e-4},y={count:2,xyScalar:1,zOffset:100,ambient:"#007bbb",diffuse:"#008fd1",speed:2,gravity:500,dampening:.15,minLimit:10,maxLimit:null,minDistance:20,maxDistance:400,autopilot:!0,draw:!1,bounds:FSS.Vector3.create(),step:FSS.Vector3.create(Math.randomInRange(.2,1),Math.randomInRange(.2,1),Math.randomInRange(.2,1))},w={renderer:"canvas"},F=Date.now(),x=FSS.Vector3.create(),k=FSS.Vector3.create(),A=document.getElementById("poly-container"),T=document.getElementById("output");$("body").hasClass("download")?console.log("no poly mesh"):(console.log("load poly mesh"),e())}(),window.scrollReveal=function(e){"use strict";function t(t){return o=this,o.elems={},o.serial=1,o.blocked=!1,o.config=n(o.defaults,t),o.isMobile()&&!o.config.mobile||!o.isSupported()?void o.destroy():(o.config.viewport===e.document.documentElement?(e.addEventListener("scroll",r,!1),e.addEventListener("resize",r,!1)):o.config.viewport.addEventListener("scroll",r,!1),void o.init(!0))}var i,n,r,o;return t.prototype={defaults:{enter:"bottom",move:"8px",over:"0.6s",wait:"0s",easing:"ease",scale:{direction:"up",power:"5%"},rotate:{x:0,y:0,z:0},opacity:0,mobile:!1,reset:!1,viewport:e.document.documentElement,delay:"once",vFactor:.6,complete:function(e){}},init:function(e){var t,i,n;n=Array.prototype.slice.call(o.config.viewport.querySelectorAll("[data-sr]")),n.forEach(function(e){t=o.serial++,i=o.elems[t]={domEl:e},i.config=o.configFactory(i),i.styles=o.styleFactory(i),i.seen=!1,e.removeAttribute("data-sr"),e.setAttribute("style",i.styles.inline+i.styles.initial)}),o.scrolled=o.scrollY(),o.animate(e)},animate:function(e){function t(e){var t=o.elems[e];setTimeout(function(){t.domEl.setAttribute("style",t.styles.inline),t.config.complete(t.domEl),delete o.elems[e]},t.styles.duration)}var i,n,r;for(i in o.elems)o.elems.hasOwnProperty(i)&&(n=o.elems[i],r=o.isElemInViewport(n),r?("always"===o.config.delay||"onload"===o.config.delay&&e||"once"===o.config.delay&&!n.seen?n.domEl.setAttribute("style",n.styles.inline+n.styles.target+n.styles.transition):n.domEl.setAttribute("style",n.styles.inline+n.styles.target+n.styles.reset),n.seen=!0,n.config.reset||n.animating||(n.animating=!0,t(i))):!r&&n.config.reset&&n.domEl.setAttribute("style",n.styles.inline+n.styles.initial+n.styles.reset));o.blocked=!1},configFactory:function(e){var t={},i={},r=e.domEl.getAttribute("data-sr").split(/[, ]+/);return r.forEach(function(e,i){switch(e){case"enter":t.enter=r[i+1];break;case"wait":t.wait=r[i+1];break;case"move":t.move=r[i+1];break;case"ease":t.move=r[i+1],t.ease="ease";break;case"ease-in":if("up"==r[i+1]||"down"==r[i+1]){t.scale.direction=r[i+1],t.scale.power=r[i+2],t.easing="ease-in";break}t.move=r[i+1],t.easing="ease-in";break;case"ease-in-out":if("up"==r[i+1]||"down"==r[i+1]){t.scale.direction=r[i+1],t.scale.power=r[i+2],t.easing="ease-in-out";break}t.move=r[i+1],t.easing="ease-in-out";break;case"ease-out":if("up"==r[i+1]||"down"==r[i+1]){t.scale.direction=r[i+1],t.scale.power=r[i+2],t.easing="ease-out";break}t.move=r[i+1],t.easing="ease-out";break;case"hustle":if("up"==r[i+1]||"down"==r[i+1]){t.scale.direction=r[i+1],t.scale.power=r[i+2],t.easing="cubic-bezier( 0.6, 0.2, 0.1, 1 )";break}t.move=r[i+1],t.easing="cubic-bezier( 0.6, 0.2, 0.1, 1 )";break;case"over":t.over=r[i+1];break;case"flip":case"pitch":t.rotate=t.rotate||{},t.rotate.x=r[i+1];break;case"spin":case"yaw":t.rotate=t.rotate||{},t.rotate.y=r[i+1];break;case"roll":t.rotate=t.rotate||{},t.rotate.z=r[i+1];break;case"reset":"no"==r[i-1]?t.reset=!1:t.reset=!0;break;case"scale":if(t.scale={},"up"==r[i+1]||"down"==r[i+1]){t.scale.direction=r[i+1],t.scale.power=r[i+2];break}t.scale.power=r[i+1];break;case"vFactor":case"vF":t.vFactor=r[i+1];break;case"opacity":t.opacity=r[i+1];break;default:return}}),i=n(i,o.config),i=n(i,t),"top"===i.enter||"bottom"===i.enter?i.axis="Y":("left"===i.enter||"right"===i.enter)&&(i.axis="X"),("top"===i.enter||"left"===i.enter)&&(i.move="-"+i.move),i},styleFactory:function(e){function t(){0!==parseInt(a.move)&&(n+=" translate"+a.axis+"("+a.move+")",o+=" translate"+a.axis+"(0)"),0!==parseInt(a.scale.power)&&("up"===a.scale.direction?a.scale.value=1-.01*parseFloat(a.scale.power):"down"===a.scale.direction&&(a.scale.value=1+.01*parseFloat(a.scale.power)),n+=" scale("+a.scale.value+")",o+=" scale(1)"),a.rotate.x&&(n+=" rotateX("+a.rotate.x+")",o+=" rotateX(0)"),a.rotate.y&&(n+=" rotateY("+a.rotate.y+")",o+=" rotateY(0)"),a.rotate.z&&(n+=" rotateZ("+a.rotate.z+")",o+=" rotateZ(0)"),n+="; opacity: "+a.opacity+"; ",o+="; opacity: 1; "}var i,n,r,o,s,a=e.config,l=1e3*(parseFloat(a.over)+parseFloat(a.wait));return i=e.domEl.getAttribute("style")?e.domEl.getAttribute("style")+"; visibility: visible; ":"visibility: visible; ",s="-webkit-transition: -webkit-transform "+a.over+" "+a.easing+" "+a.wait+", opacity "+a.over+" "+a.easing+" "+a.wait+"; transition: transform "+a.over+" "+a.easing+" "+a.wait+", opacity "+a.over+" "+a.easing+" "+a.wait+"; -webkit-perspective: 1000;-webkit-backface-visibility: hidden;",r="-webkit-transition: -webkit-transform "+a.over+" "+a.easing+" 0s, opacity "+a.over+" "+a.easing+" 0s; transition: transform "+a.over+" "+a.easing+" 0s, opacity "+a.over+" "+a.easing+" 0s; -webkit-perspective: 1000; -webkit-backface-visibility: hidden; ",n="transform:",o="transform:",t(),n+="-webkit-transform:",o+="-webkit-transform:",t(),{transition:s,initial:n,target:o,reset:r,inline:i,duration:l}},getViewportH:function(){var t=o.config.viewport.clientHeight,i=e.innerHeight;return o.config.viewport===e.document.documentElement&&i>t?i:t},scrollY:function(){return o.config.viewport===e.document.documentElement?e.pageYOffset:o.config.viewport.scrollTop+o.config.viewport.offsetTop},getOffset:function(e){var t=0,i=0;do isNaN(e.offsetTop)||(t+=e.offsetTop),isNaN(e.offsetLeft)||(i+=e.offsetLeft);while(e=e.offsetParent);return{top:t,left:i}},isElemInViewport:function(t){function i(){var e=s+r*l,t=a-r*l,i=o.scrolled+o.getViewportH(),n=o.scrolled;return i>e&&t>n}function n(){var i=t.domEl,n=i.currentStyle||e.getComputedStyle(i,null);return"fixed"===n.position}var r=t.domEl.offsetHeight,s=o.getOffset(t.domEl).top,a=s+r,l=t.config.vFactor||0;return i()||n()},isMobile:function(){var t=navigator.userAgent||navigator.vendor||e.opera;return/(ipad|playbook|silk|android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))?!0:!1},isSupported:function(){for(var e=document.createElement("sensor"),t="Webkit,Moz,O,".split(","),i=("transition "+t.join("transition,")).split(","),n=0;n<i.length;n++)if(""===!e.style[i[n]])return!1;return!0},destroy:function(){var e=o.config.viewport,t=Array.prototype.slice.call(e.querySelectorAll("[data-sr]"));t.forEach(function(e){e.removeAttribute("data-sr")})}},r=function(e){o.blocked||(o.blocked=!0,o.scrolled=o.scrollY(),i(function(){o.animate()}))},n=function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},i=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||function(t){e.setTimeout(t,1e3/60)}}(),t}(window),function(e,t){"use strict";function i(e){this.callback=e,this.ticking=!1}function n(t){return t&&"undefined"!=typeof e&&(t===e||t.nodeType)}function r(e){if(arguments.length<=0)throw new Error("Missing arguments in extend function");var t,i,o=e||{};for(i=1;i<arguments.length;i++){var s=arguments[i]||{};for(t in s)"object"!=typeof o[t]||n(o[t])?o[t]=o[t]||s[t]:o[t]=r(o[t],s[t])}return o}function o(e){return e===Object(e)?e:{down:e,up:e}}function s(e,t){t=r(t,s.options),this.lastKnownScrollY=0,this.elem=e,this.debouncer=new i(this.update.bind(this)),this.tolerance=o(t.tolerance),this.classes=t.classes,this.offset=t.offset,this.scroller=t.scroller,this.initialised=!1,this.onPin=t.onPin,this.onUnpin=t.onUnpin,this.onTop=t.onTop,this.onNotTop=t.onNotTop}var a={bind:!!function(){}.bind,classList:"classList"in t.documentElement,rAF:!!(e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame)};e.requestAnimationFrame=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame,i.prototype={constructor:i,update:function(){this.callback&&this.callback(),this.ticking=!1},requestTick:function(){this.ticking||(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},handleEvent:function(){this.requestTick()}},s.prototype={constructor:s,init:function(){return s.cutsTheMustard?(this.elem.classList.add(this.classes.initial),setTimeout(this.attachEvent.bind(this),100),this):void 0},destroy:function(){var e=this.classes;this.initialised=!1,this.elem.classList.remove(e.unpinned,e.pinned,e.top,e.initial),this.scroller.removeEventListener("scroll",this.debouncer,!1)},attachEvent:function(){this.initialised||(this.lastKnownScrollY=this.getScrollY(),this.initialised=!0,this.scroller.addEventListener("scroll",this.debouncer,!1),this.debouncer.handleEvent())},unpin:function(){var e=this.elem.classList,t=this.classes;(e.contains(t.pinned)||!e.contains(t.unpinned))&&(e.add(t.unpinned),e.remove(t.pinned),this.onUnpin&&this.onUnpin.call(this))},pin:function(){var e=this.elem.classList,t=this.classes;e.contains(t.unpinned)&&(e.remove(t.unpinned),e.add(t.pinned),this.onPin&&this.onPin.call(this))},top:function(){var e=this.elem.classList,t=this.classes;e.contains(t.top)||(e.add(t.top),e.remove(t.notTop),this.onTop&&this.onTop.call(this))},notTop:function(){var e=this.elem.classList,t=this.classes;e.contains(t.notTop)||(e.add(t.notTop),e.remove(t.top),this.onNotTop&&this.onNotTop.call(this))},getScrollY:function(){return void 0!==this.scroller.pageYOffset?this.scroller.pageYOffset:void 0!==this.scroller.scrollTop?this.scroller.scrollTop:(t.documentElement||t.body.parentNode||t.body).scrollTop},getViewportHeight:function(){return e.innerHeight||t.documentElement.clientHeight||t.body.clientHeight},getDocumentHeight:function(){var e=t.body,i=t.documentElement;return Math.max(e.scrollHeight,i.scrollHeight,e.offsetHeight,i.offsetHeight,e.clientHeight,i.clientHeight)},getElementHeight:function(e){return Math.max(e.scrollHeight,e.offsetHeight,e.clientHeight)},getScrollerHeight:function(){return this.scroller===e||this.scroller===t.body?this.getDocumentHeight():this.getElementHeight(this.scroller)},isOutOfBounds:function(e){var t=0>e,i=e+this.getViewportHeight()>this.getScrollerHeight();return t||i},toleranceExceeded:function(e,t){return Math.abs(e-this.lastKnownScrollY)>=this.tolerance[t]},shouldUnpin:function(e,t){var i=e>this.lastKnownScrollY,n=e>=this.offset;return i&&n&&t},shouldPin:function(e,t){var i=e<this.lastKnownScrollY,n=e<=this.offset;return i&&t||n},update:function(){var e=this.getScrollY(),t=e>this.lastKnownScrollY?"down":"up",i=this.toleranceExceeded(e,t);this.isOutOfBounds(e)||(e<=this.offset?this.top():this.notTop(),this.shouldUnpin(e,i)?this.unpin():this.shouldPin(e,i)&&this.pin(),this.lastKnownScrollY=e)}},s.options={tolerance:{up:0,down:0},offset:0,scroller:e,classes:{pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",initial:"headroom"}},s.cutsTheMustard="undefined"!=typeof a&&a.rAF&&a.bind&&a.classList,e.Headroom=s}(window,document),function(e){e&&(e.fn.headroom=function(t){return this.each(function(){var i=e(this),n=i.data("headroom"),r="object"==typeof t&&t;r=e.extend(!0,{},Headroom.options,r),n||(n=new Headroom(this,r),n.init(),i.data("headroom",n)),"string"==typeof t&&n[t]()})},e("[data-headroom]").each(function(){var t=e(this);t.headroom(t.data())}))}(window.Zepto||window.jQuery),function(e){"use strict";e(["jquery"],function(e){function t(t){return!t.nodeName||-1!==e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"])}function i(t){return e.isFunction(t)||e.isPlainObject(t)?t:{top:t,left:t}}var n=e.scrollTo=function(t,i,n){return e(window).scrollTo(t,i,n)};return n.defaults={axis:"xy",duration:0,limit:!0},e.fn.scrollTo=function(r,o,s){"object"==typeof o&&(s=o,o=0),"function"==typeof s&&(s={onAfter:s}),"max"===r&&(r=9e9),s=e.extend({},n.defaults,s),o=o||s.duration;var a=s.queue&&s.axis.length>1;return a&&(o/=2),s.offset=i(s.offset),s.over=i(s.over),this.each(function(){function l(t){var i=e.extend({},s,{queue:!0,duration:o,complete:t&&function(){t.call(d,f,s)}});h.animate(p,i)}if(null!==r){var c,u=t(this),d=u?this.contentWindow||window:this,h=e(d),f=r,p={};switch(typeof f){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(f)){f=i(f);break}if(f=u?e(f):e(f,d),!f.length)return;case"object":(f.is||f.style)&&(c=(f=e(f)).offset())}var m=e.isFunction(s.offset)&&s.offset(d,f)||s.offset;e.each(s.axis.split(""),function(e,t){var i="x"===t?"Left":"Top",r=i.toLowerCase(),o="scroll"+i,g=h[o](),v=n.max(d,t);if(c)p[o]=c[r]+(u?0:g-h.offset()[r]),s.margin&&(p[o]-=parseInt(f.css("margin"+i),10)||0,p[o]-=parseInt(f.css("border"+i+"Width"),10)||0),p[o]+=m[r]||0,s.over[r]&&(p[o]+=f["x"===t?"width":"height"]()*s.over[r]);else{var b=f[r];p[o]=b.slice&&"%"===b.slice(-1)?parseFloat(b)/100*v:b}s.limit&&/^\d+$/.test(p[o])&&(p[o]=p[o]<=0?0:Math.min(p[o],v)),!e&&s.axis.length>1&&(g===p[o]?p={}:a&&(l(s.onAfterFirst),p={}))}),l(s.onAfter)}})},n.max=function(i,n){var r="x"===n?"Width":"Height",o="scroll"+r;if(!t(i))return i[o]-e(i)[r.toLowerCase()]();var s="client"+r,a=i.ownerDocument||i.document,l=a.documentElement,c=a.body;return Math.max(l[o],c[o])-Math.min(l[s],c[s])},e.Tween.propHooks.scrollLeft=e.Tween.propHooks.scrollTop={get:function(t){return e(t.elem)[t.prop]()},set:function(t){var i=this.get(t);if(t.options.interrupt&&t._last&&t._last!==i)return e(t.elem).stop();var n=Math.round(t.now);i!==n&&(e(t.elem)[t.prop](n),t._last=this.get(t))}},n})}("function"==typeof define&&define.amd?define:function(e,t){"use strict";"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}),!function(e,t){"use strict";function i(e){e=e.split(" ");for(var t={},i=e.length,n=[];i--;)t.hasOwnProperty(e[i])||(t[e[i]]=1,n.unshift(e[i]));return n.join(" ")}var n="file:"===e.location.protocol,r=t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),o=Array.prototype.forEach||function(e,t){if(void 0===this||null===this||"function"!=typeof e)throw new TypeError;var i,n=this.length>>>0;for(i=0;n>i;++i)i in this&&e.call(t,this[i],i,this)},s={},a=0,l=[],c=[],u={},d=function(e){return e.cloneNode(!0)},h=function(e,t){c[e]=c[e]||[],c[e].push(t)},f=function(e){for(var t=0,i=c[e].length;i>t;t++)!function(t){setTimeout(function(){c[e][t](d(s[e]))},0)}(t)},p=function(t,i){if(void 0!==s[t])s[t]instanceof SVGSVGElement?i(d(s[t])):h(t,i);else{if(!e.XMLHttpRequest)return i("Browser does not support XMLHttpRequest"),!1;s[t]={},h(t,i);var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===r.readyState){if(404===r.status||null===r.responseXML)return i("Unable to load SVG file: "+t),n&&i("Note: SVG injection ajax calls do not work locally without adjusting security setting in your browser. Or consider using a local webserver."),i(),!1;if(!(200===r.status||n&&0===r.status))return i("There was a problem injecting the SVG: "+r.status+" "+r.statusText),!1;if(r.responseXML instanceof Document)s[t]=r.responseXML.documentElement;else if(DOMParser&&DOMParser instanceof Function){var e;try{var o=new DOMParser;e=o.parseFromString(r.responseText,"text/xml")}catch(a){e=void 0}if(!e||e.getElementsByTagName("parsererror").length)return i("Unable to parse SVG file: "+t),!1;s[t]=e.documentElement}f(t)}},r.open("GET",t),r.overrideMimeType&&r.overrideMimeType("text/xml"),r.send()}},m=function(t,n,s,c){var d=t.getAttribute("data-src")||t.getAttribute("src");if(!/\.svg/i.test(d))return void c("Attempted to inject a file with a non-svg extension: "+d);if(!r){var h=t.getAttribute("data-fallback")||t.getAttribute("data-png");return void(h?(t.setAttribute("src",h),c(null)):s?(t.setAttribute("src",s+"/"+d.split("/").pop().replace(".svg",".png")),c(null)):c("This browser does not support SVG and no PNG fallback was defined."))}-1===l.indexOf(t)&&(l.push(t),t.setAttribute("src",""),p(d,function(r){if("undefined"==typeof r||"string"==typeof r)return c(r),!1;var s=t.getAttribute("id");s&&r.setAttribute("id",s);var h=t.getAttribute("title");h&&r.setAttribute("title",h);var f=[].concat(r.getAttribute("class")||[],"injected-svg",t.getAttribute("class")||[]).join(" ");r.setAttribute("class",i(f));var p=t.getAttribute("style");p&&r.setAttribute("style",p);var m=[].filter.call(t.attributes,function(e){return/^data-\w[\w\-]*$/.test(e.name)});o.call(m,function(e){e.name&&e.value&&r.setAttribute(e.name,e.value)});for(var g,v=r.querySelectorAll("defs clipPath[id]"),b=0,S=v.length;S>b;b++){g=v[b].id+"-"+a;for(var y=r.querySelectorAll('[clip-path*="'+v[b].id+'"]'),w=0,F=y.length;F>w;w++)y[w].setAttribute("clip-path","url(#"+g+")");v[b].id=g}for(var x,k=r.querySelectorAll("defs mask[id]"),A=0,T=k.length;T>A;A++){x=k[A].id+"-"+a;for(var R=r.querySelectorAll('[mask*="'+k[A].id+'"]'),E=0,C=R.length;C>E;E++)R[E].setAttribute("mask","url(#"+x+")");k[A].id=x}r.removeAttribute("xmlns:a");for(var V,N,L=r.querySelectorAll("script"),M=[],j=0,I=L.length;I>j;j++)N=L[j].getAttribute("type"),N&&"application/ecmascript"!==N&&"application/javascript"!==N||(V=L[j].innerText||L[j].textContent,M.push(V),r.removeChild(L[j]));if(M.length>0&&("always"===n||"once"===n&&!u[d])){for(var O=0,P=M.length;P>O;O++)new Function(M[O])(e);u[d]=!0}t.parentNode.replaceChild(r,t),delete l[l.indexOf(t)],t=null,a++,c(r)}))},g=function(e,t,i){t=t||{};var n=t.evalScripts||"always",r=t.pngFallback||!1,s=t.each;if(void 0!==e.length){var a=0;o.call(e,function(t){m(t,n,r,function(t){s&&"function"==typeof s&&s(t),i&&e.length===++a&&i(a)})})}else e?m(e,n,r,function(t){s&&"function"==typeof s&&s(t),i&&i(1),e=null}):i&&i(0)};"object"==typeof module&&"object"==typeof module.exports?module.exports=exports=g:"function"==typeof define&&define.amd?define(function(){return g}):"object"==typeof e&&(e.SVGInjector=g)}(window,document),function($){$.fn.svgmagic=function(givenOptions){function shouldPerformReplacement(e){return e.forceReplacements||!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")}function buildImageList(e,t){var i=[];return t.each(function(){var t,n=$(this);if(n.attr(srcAttributeName)){var r=buildImageReference(n.attr(srcAttributeName),n,!1);r&&(i.push(r),e.temporaryHoldingImage&&(t=setTimeout(function(){n.attr(srcAttributeName,e.temporaryHoldingImage)},holdingImageTimeoutDuration),holdingImageTimeouts[i.length-1]=t))}if(e.handleBackgroundImages&&n.css(backgroundImagePropertyName)&&"none"!=n.css(backgroundImagePropertyName)){var r=buildImageReference(urlMatcher.exec(n.css(backgroundImagePropertyName))[1],n,!0);r&&i.push(r)}}),log(!1,["Builded image list",i]),i}function buildImageReference(e,t,i){var n=null;if(svgExtension.test(e)||svgDataUri.test(e)){var r=new Image;r.src=e,n={element:t,isBackground:i,originalUri:r.src,replacementUri:null}}return n}function getReplacementUris(e,t){var i=e.replacementUriCreator;if(images=buildImageList(e,t),images.length>0)if(i&&"function"==typeof i){for(var n=0;n<images.length;n++){var r=images[n];r.replacementUri=i(r.element,r.originalUri,r.isBackground)}performReplacements(e)}else getReplacementUrisFromRemoteService(e)}function getReplacementUrisFromRemoteService(e){for(var t=[],i={},n=0;n<images.length;n++)t.push(images[n].originalUri);var r=window.location.href.split("/");$.extend(i,e.additionalRequestData,{svgsources:t,version:VERSION,origin:r[2]}),$.ajax({dataType:e.remoteDataType,method:e.remoteRequestType,url:e.remoteServerUri,data:i,timeout:3e3,success:function(t,i,n){for(var r=0;r<images.length;r++){var o=images[r],s=t.images[r].image;o.replacementUri=s,o.error=t.images[r].error,o.responseMsg=t.images[r].msg,o.filename=t.images[r].filename}performReplacements(e)},error:function(){log(!0,"The request took longer than 3 seconds to complete. No image were replaced. Use the developer tools to check wheter the server responded with an error.")}})}function performReplacements(e){for(var t=0;t<images.length;t++){var i=images[t],n=i.replacementUri;n?i.error?log(!0,i.filename+": "+i.responseMsg):i.isBackground?(log(!1,i.filename+": Background image replaced. Server responded with: "+i.responseMsg),i.element.css(backgroundImagePropertyName,'url("'+n+'")')):(log(!1,i.filename+": Image replaced. Server responded with: "+i.responseMsg),e.temporaryHoldingImage&&clearTimeout(holdingImageTimeouts[t]),i.element.attr(srcAttributeName,n)):log(!0,i.filename+": No new url received")}e.postReplacementCallback&&"function"==typeof e.postReplacementCallback&&e.postReplacementCallback(images)}function tidyOptions(e){return!e.temporaryHoldingImage&&e.preloader&&"string"==typeof e.preloader&&(e.temporaryHoldingImage=e.preloader),e.testmode&&"boolean"==typeof e.testmode&&(e.forceReplacements=!0),!e.postReplacementCallback&&e.callback&&"function"==typeof e.callback&&(e.postReplacementCallback=function(t){e.callback()}),e.additionalRequestData.secure||(e.additionalRequestData.secure=e.secure),e.additionalRequestData.dumpcache||(e.additionalRequestData.dumpcache=e.dumpcache),e}function log(e,t){options.debug&&(e?console.error(t):console.log(t))}var defaultOptions={preloader:!1,testmode:!1,secure:!1,callback:!1,backgroundimage:!1,dumpcache:!1,temporaryHoldingImage:null,forceReplacements:!1,handleBackgroundImages:!1,additionalRequestData:{},postReplacementCallback:null,remoteServerUri:"http://bitlabs.nl/svgmagic/converter/3/",remoteRequestType:"POST",remoteDataType:"jsonp",debug:!1,replacementUriCreator:null},untidyOptions=$.extend(defaultOptions,givenOptions),options=tidyOptions(untidyOptions),holdingImageTimeouts={},matchedNodes=this,images=[],imgElementName="img",srcAttributeName="src",backgroundImagePropertyName="background-image",urlMatcher=/^url\(["']?([^"'()]+)["']?\)$/,svgExtension=/\.svg$/,svgDataUri=/^data:image\/svg\+xml/,holdingImageTimeoutDuration=500,VERSION=3;return("https:"==window.location.protocol||options.additionalRequestData.secure)&&(options.remoteServerUri=options.remoteServerUri.replace("http://","https://")),log(!1,"Using "+options.remoteServerUri+" as remote server"),shouldPerformReplacement(options)&&getReplacementUris(options,matchedNodes),"undefined"==typeof JSON&&("object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var i,n,r,o,s,a=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(l)){for(o=l.length,i=0;o>i;i+=1)s[i]=str(i,l)||"null";return r=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+a+"]":"["+s.join(",")+"]",gap=a,r}if(rep&&"object"==typeof rep)for(o=rep.length,i=0;o>i;i+=1)"string"==typeof rep[i]&&(n=rep[i],r=str(n,l),r&&s.push(quote(n)+(gap?": ":":")+r));else for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(r=str(n,l),r&&s.push(quote(n)+(gap?": ":":")+r));return r=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+a+"}":"{"+s.join(",")+"}",gap=a,r}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b"," ":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,i){var n;if(gap="",indent="","number"==typeof i)for(n=0;i>n;n+=1)indent+=" ";else"string"==typeof i&&(indent=i);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var i,n,r=e[t];if(r&&"object"==typeof r)for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n=walk(r,i),void 0!==n?r[i]=n:delete r[i]);return reviver.call(e,t,r)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()),this}}(jQuery),!function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):e.jQuery)}(this,function(e){"use strict";function t(e){var t,i,n,r,o,s,a,l={};for(o=e.replace(/\s*:\s*/g,":").replace(/\s*,\s*/g,",").split(","),a=0,s=o.length;s>a&&(i=o[a],-1===i.search(/^(http|https|ftp):\/\//)&&-1!==i.search(":"));a++)t=i.indexOf(":"),n=i.substring(0,t),r=i.substring(t+1),r||(r=void 0),"string"==typeof r&&(r="true"===r||("false"===r?!1:r)),"string"==typeof r&&(r=isNaN(r)?r:+r),l[n]=r;return null==n&&null==r?e:l}function i(e){e=""+e;var t,i,n,r=e.split(/\s+/),o="50%",s="50%";for(n=0,t=r.length;t>n;n++)i=r[n],"left"===i?o="0%":"right"===i?o="100%":"top"===i?s="0%":"bottom"===i?s="100%":"center"===i?0===n?o="50%":s="50%":0===n?o=i:s=i;return{x:o,y:s}}function n(t,i){var n=function(){i(this.src)};e('<img src="'+t+'.gif">').load(n),e('<img src="'+t+'.jpg">').load(n),e('<img src="'+t+'.jpeg">').load(n),e('<img src="'+t+'.png">').load(n)}function r(i,n,r){if(this.$element=e(i),"string"==typeof n&&(n=t(n)),r?"string"==typeof r&&(r=t(r)):r={},"string"==typeof n)n=n.replace(/\.\w*$/,"");else if("object"==typeof n)for(var o in n)n.hasOwnProperty(o)&&(n[o]=n[o].replace(/\.\w*$/,""));this.settings=e.extend({},s,r),this.path=n,this.init()}var o="vide",s={volume:1,playbackRate:1,muted:!0,loop:!0,autoplay:!0,position:"50% 50%",posterType:"detect",resizing:!0};r.prototype.init=function(){var t,r=this,s=i(r.settings.position),a="";r.$wrapper=e("<div>").css({position:"absolute","z-index":-1,top:0,left:0,bottom:0,right:0,overflow:"hidden","-webkit-background-size":"cover","-moz-background-size":"cover","-o-background-size":"cover","background-size":"cover","background-repeat":"no-repeat","background-position":s.x+" "+s.y}),t=r.path,"object"==typeof r.path&&(r.path.poster?t=r.path.poster:r.path.mp4?t=r.path.mp4:r.path.webm?t=r.path.webm:r.path.ogv&&(t=r.path.ogv)),"detect"===r.settings.posterType?n(t,function(e){r.$wrapper.css("background-image","url("+e+")")}):"none"!==r.settings.posterType&&r.$wrapper.css("background-image","url("+t+"."+r.settings.posterType+")"),"static"===r.$element.css("position")&&r.$element.css("position","relative"),r.$element.prepend(r.$wrapper),"object"==typeof r.path?(r.path.mp4&&(a+='<source src="'+r.path.mp4+'.mp4" type="video/mp4">'),r.path.webm&&(a+='<source src="'+r.path.webm+'.webm" type="video/webm">'),r.path.ogv&&(a+='<source src="'+r.path.ogv+'.ogv" type="video/ogv">'),r.$video=e("<video>"+a+"</video>")):r.$video=e('<video><source src="'+r.path+'.mp4" type="video/mp4"><source src="'+r.path+'.webm" type="video/webm"><source src="'+r.path+'.ogv" type="video/ogg"></video>'),
r.$video.prop({autoplay:r.settings.autoplay,loop:r.settings.loop,volume:r.settings.volume,muted:r.settings.muted,defaultMuted:r.settings.muted,playbackRate:r.settings.playbackRate,defaultPlaybackRate:r.settings.playbackRate}).css({margin:"auto",position:"absolute","z-index":-1,top:s.y,left:s.x,"-webkit-transform":"translate(-"+s.x+", -"+s.y+")","-ms-transform":"translate(-"+s.x+", -"+s.y+")","-moz-transform":"translate(-"+s.x+", -"+s.y+")",transform:"translate(-"+s.x+", -"+s.y+")",visibility:"hidden"}).on("canplaythrough."+o,function(){r.$video.css("visibility","visible"),r.resize(),r.$wrapper.css("background-image","none")}),r.$element.on("resize."+o,function(){r.settings.resizing&&r.resize()}),r.$wrapper.append(r.$video)},r.prototype.getVideoObject=function(){return this.$video[0]},r.prototype.resize=function(){if(this.$video){var e=this.$video[0].videoHeight,t=this.$video[0].videoWidth,i=this.$wrapper.height(),n=this.$wrapper.width();n/t>i/e?this.$video.css({width:n+2,height:"auto"}):this.$video.css({width:"auto",height:i+2})}},r.prototype.destroy=function(){this.$element.off(o),this.$video&&this.$video.off(o),delete e[o].lookup[this.index],this.$element.removeData(o),this.$wrapper.remove()},e[o]={lookup:[]},e.fn[o]=function(t,i){var n;return this.each(function(){n=e.data(this,o),n&&n.destroy(),n=new r(this,t,i),n.index=e[o].lookup.push(n)-1,e.data(this,o,n)}),this},e(document).ready(function(){var t=e(window);t.on("resize."+o,function(){for(var t,i=e[o].lookup.length,n=0;i>n;n++)t=e[o].lookup[n],t&&t.settings.resizing&&t.resize()}),t.on("unload."+o,function(){return!1}),e(document).find("[data-"+o+"-bg]").each(function(t,i){var n=e(i),r=n.data(o+"-options"),s=n.data(o+"-bg");n[o](s,r)})})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){var t="waitForImages";e.waitForImages={hasImageProperties:["backgroundImage","listStyleImage","borderImage","borderCornerImage","cursor"],hasImageAttributes:["srcset"]},e.expr[":"].uncached=function(t){return e(t).is('img[src][src!=""]')?!t.complete:!1},e.fn.waitForImages=function(){var i,n,r,o=0,s=0,a=e.Deferred();if(e.isPlainObject(arguments[0])?(r=arguments[0].waitForAll,n=arguments[0].each,i=arguments[0].finished):1===arguments.length&&"boolean"===e.type(arguments[0])?r=arguments[0]:(i=arguments[0],n=arguments[1],r=arguments[2]),i=i||e.noop,n=n||e.noop,r=!!r,!e.isFunction(i)||!e.isFunction(n))throw new TypeError("An invalid callback was supplied.");return this.each(function(){var l=e(this),c=[],u=e.waitForImages.hasImageProperties||[],d=e.waitForImages.hasImageAttributes||[],h=/url\(\s*(['"]?)(.*?)\1\s*\)/g;r?l.find("*").addBack().each(function(){var t=e(this);t.is("img:uncached")&&c.push({src:t.attr("src"),element:t[0]}),e.each(u,function(e,i){var n,r=t.css(i);if(!r)return!0;for(;n=h.exec(r);)c.push({src:n[2],element:t[0]})}),e.each(d,function(i,n){var r,o=t.attr(n);return o?(r=o.split(","),void e.each(r,function(i,n){n=e.trim(n).split(" ")[0],c.push({src:n,element:t[0]})})):!0})}):l.find("img:uncached").each(function(){c.push({src:this.src,element:this})}),o=c.length,s=0,0===o&&(i.call(l[0]),a.resolveWith(l[0])),e.each(c,function(r,c){var u=new Image,d="load."+t+" error."+t;e(u).one(d,function h(t){var r=[s,o,"load"==t.type];return s++,n.apply(c.element,r),a.notifyWith(c.element,r),e(this).off(d,h),s==o?(i.call(l[0]),a.resolveWith(l[0]),!1):void 0}),u.src=c.src})}),a.promise()}}),function(e){function t(e){var t=navigator.userAgent,i=t.indexOf("Android");if(i>=0){var n=t.substring(i+8,t.length),r=n.substring(0,n.indexOf(";"));return e>r?!0:!1}}function i(e,t){return-1!==(" "+e+" ").indexOf(" "+t+" ")}function n(){console.log("slideshow-loaded"),window.addEventListener("load",function(){new SlideShow(".slideshow",{timeout:5e3});e(".slideshow").addClass("is-vis")});var t=({animations:Modernizr.cssanimations},{WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"});t[Modernizr.prefixed("animation")];e(".slideshow").waitForImages({finished:function(){console.log("complete")},each:function(){},waitForAll:!0}).progress(function(e,t,i){})}function r(){}function o(){}function s(e,t,i){var n=e.find(".selected"),r=t.find(".selected");n.removeClass("selected from-left from-right").addClass("is-moving").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){n.removeClass("is-moving")}),e.children("li").eq(i).addClass("selected from-right").prevAll().addClass("move-left"),r.removeClass("selected"),t.find("li").eq(i).addClass("selected")}function a(e,t,i){var n=e.find(".selected"),r=t.find(".selected");n.removeClass("selected from-left from-right").addClass("is-moving").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){n.removeClass("is-moving")}),e.children("li").eq(i).addClass("selected from-left").removeClass("move-left").nextAll().removeClass("move-left"),r.removeClass("selected"),t.find("li").eq(i).addClass("selected")}e("body").waitForImages().done(function(){e(this).addClass("is-loaded"),console.log("welcome to freeman online")});var l=WURFL.complete_device_name;if(WURFL.is_mobile){var c=t("4.4.4");if(n(),i(l,"Apple"))e("#andriod-download").remove();else{e("#apple-download").remove();l.replace(/[^\d.]/g,"");c?(console.log("lower than android 4.4.4 "),e("body").addClass("andriod-jelly-bean")):void 0==c?alert("no android"):(console.log("android 4.4.4 or higher"),e("body").addClass("andriod"))}}else e("#andriod-download").remove(),e("#apple-download").remove(),e(".freeman-video").vide({mp4:"vid/FreemanAppPhoneAnimation.mp4",poster:"img/bg_spot.jpg"},{playbackRate:1,muted:!0,loop:!0,autoplay:!0,position:"50% 50%",posterType:"jpg",resizing:!0});document.querySelectorAll(".svgs");e("img").svgmagic(),e("header").headroom({offset:40,tolerance:5});e("freeman-dialog");e(".learn-more").on("click",function(t){t.preventDefault();var i=this.hash;i=i.replace("#","");var n=e("#"+i);console.log(n),e("html, body").stop().animate({scrollTop:n.offset().top-80},700,"swing",function(){})}),e(".freeman-logo").on("click",function(t){t.preventDefault(),e("html, body").stop().animate({scrollTop:0},700,"swing")}),window.sr=new scrollReveal;var u=768;if(e(window).width()<=u){e(".close-btn").on("click",function(t){t.preventDefault(),e(".freeman-dialog").removeClass("is-opened"),e(".freeman-overlay").removeClass("is-opened"),e("body").removeClass("is-fixed"),o(),e(".features-slider").children("li").removeClass("selected-mobile").prevAll(),e(".freeman-dialog").find(".fre-full-width").detach()}),e(".fre-slider-nav li").on("click",function(t){function i(t,i,n){var o=t.children("li").eq(n),s=(i.find(".selected-mobile"),t.children("li").eq(n).html());r(),e(".freeman-dialog").addClass("is-opened").find("img.service-img").addClass("is-loaded"),e(".freeman-overlay").addClass("is-opened").css("height",e("body.is-loaded").height()),e("body").addClass("is-fixed"),e(".freeman-dialog").css("height",e(".freeman-features").height),e(".freeman-dialog").append(s),o.removeClass("selected selected-mobile").addClass("is-moving").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){o.removeClass("is-moving")}),t.children("li").eq(n).addClass("selected-mobile").prevAll()}t.preventDefault();var n=e(this),o=n.index();e(".features-slider .selected").index();i(e(".features-slider"),e(".fre-slider-nav"),o)})}else e(".fre-slider-nav li").on("click",function(t){t.preventDefault();var i=e(this);if(!i.hasClass("selected")){var n=i.index(),r=e(".features-slider .selected").index();n>r?s(e(".features-slider"),e(".fre-slider-nav"),n):a(e(".features-slider"),e(".fre-slider-nav"),n)}}),e(".fre-slider-nav li").hover(function(t){var i=e(this);if(console.log(i),!i.hasClass("selected")){var n=i.index(),r=e(".features-slider .selected").index();n>r?s(e(".features-slider"),e(".fre-slider-nav"),n):a(e(".features-slider"),e(".fre-slider-nav"),n)}},function(e){})}(jQuery),function(e){e("body").waitForImages().done(function(){e(this).addClass("is-loaded")}),console.log("WURFL"+WURFL.complete_device_name),WURFL.is_mobile;var t=document.querySelectorAll(".svgs"),i={evalScripts:"once",pngFallback:"assets/png",each:function(e){console.log("SVG injected: "+e.getAttribute("id"))}};SVGInjector(t,i,function(e){}),e("img").svgmagic(),e("header").headroom({offset:40,tolerance:5});e("freeman-dialog")}(jQuery);